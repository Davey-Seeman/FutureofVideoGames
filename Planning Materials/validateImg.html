<html>
    <head>
        
    </head>

    <body>
        <input id="url" type="text" placeholder="Paste Image URL">
        <button type="button" onclick="methodOneCheck(); methodTwoCheck(); check();"> Check whether img Url</button>
        <p id ="whetherValid1"></p>
        <p id ="whetherValid2"></p>
        <img id="checkAnswers" alt="Not an Image" width="500" height="600">
        <script type="text/javascript">

            //below are two methods that attempt to varify whether an entered URL is valid to be put into an image tag

            //Type "$ npm install --save image-url-validator" into terminal to use method 2

            //method 1: check extension (jpeg,png etc.,) with regex - not always correct but most likely correct

            function methodOneCheck() {
                url = document.getElementById("url").value;
                if (url.match(/\.(jpeg|jpg|gif|png)$/) != null){

                    document.getElementById("whetherValid1").innerHTML = "According to method 1: This URL is a valid image URL"
                } else {
                    document.getElementById("whetherValid1").innerHTML = "According to method 1: This URL is an invalid image URL"
                }
            };


            //method 2: check to see if url works in a image tag by using Fetch API to fetch resource - always correct

            function methodTwoCheck(){
                
                url = document.getElementById("url").value;

                fetch(new Request(url, {method: 'HEAD', mode: 'no-cors'}))
                  .then(function() {
                    document.getElementById("whetherValid2").innerHTML = "According to method 2: This URL is a valid image URL"
                  })
                  .catch(function() {
                    document.getElementById("whetherValid2").innerHTML = "According to method 2: This URL is an invalid image URL"
                });

            };

            function check(){

                img = document.getElementById("checkAnswers")
                img.setAttribute("src", document.getElementById("url").value);

            };


        </script>
    </body>
</html>